# üîß –ü–Ü–î–°–£–ú–û–ö –ü–û–ö–†–ê–©–ï–ù–¨ –°–ò–ù–•–†–û–ù–Ü–ó–ê–¶–Ü–á –ö–õ–Ü–Ñ–ù–¢–Ü–í

## üéØ –ú–µ—Ç–∞ –ø—Ä–æ—î–∫—Ç—É
–í–∏—Ä—ñ—à–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏ –ø–æ—Ç–æ—á–Ω–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∫–ª—ñ—î–Ω—Ç—ñ–≤ –º—ñ–∂ WLaunch API —Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ—é –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö, —É—Å—É–Ω—É—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏ —Ç–∞ –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∏.

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∏, —â–æ –≤–∏—Ä—ñ—à—É–≤–∞–ª–∏—Å—å

### 1. –ö–æ–Ω—Ñ–ª—ñ–∫—Ç–∏ –ø–æ ID –∑–∞–º—ñ—Å—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω—É
**–ü—Ä–æ–±–ª–µ–º–∞**: –£ `wlaunch_api.py` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∞—Å—å `add_or_update_client()` –∑ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∞–º–∏ –ø–æ `id`, –∞ –Ω–µ –ø–æ `phone`. –Ø–∫—â–æ –∫–ª—ñ—î–Ω—Ç –∑–º—ñ–Ω—é–≤–∞–≤ –Ω–æ–º–µ—Ä, —Å—Ç–≤–æ—Ä—é–≤–∞–≤—Å—è –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å –∑–∞–º—ñ—Å—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–æ–≥–æ.

### 2. –ù–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ –≤–∏–¥–∞–ª—è–ª–∏—Å—å –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –∑–∞–ø–∏—Å–∏, –Ω–∞–∫–æ–ø–∏—á—É–≤–∞–ª–∏—Å—å –¥—É–±–ª—ñ–∫–∞—Ç–∏ –Ω–æ–º–µ—Ä—ñ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤.

### 3. –û–±–º–µ–∂–µ–Ω–∏–π –Ω–∞–±—ñ—Ä –¥–∞–Ω–∏—Ö
**–ü—Ä–æ–±–ª–µ–º–∞**: –î–∞–Ω—ñ –±—Ä–∞–ª–∏—Å—å —Ç—ñ–ª—å–∫–∏ –∑ `notification_settings.telegram`, —â–æ –æ–±–º–µ–∂—É–≤–∞–ª–æ –Ω–∞–±—ñ—Ä –∫–ª—ñ—î–Ω—Ç—ñ–≤.

### 4. –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –æ–±—Ä–æ–±–∫–∏ –∑–º—ñ–Ω –Ω–æ–º–µ—Ä—ñ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: –°–∏—Å—Ç–µ–º–∞ –Ω–µ –æ–±—Ä–æ–±–ª—è–ª–∞ —Å–∏—Ç—É–∞—Ü—ñ—ó, –∫–æ–ª–∏ —ñ—Å–Ω—É—é—á—ñ –∫–ª—ñ—î–Ω—Ç–∏ –∑–º—ñ–Ω—é–≤–∞–ª–∏ –Ω–æ–º–µ—Ä–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤.

## ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è

### 1. –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –ª–æ–≥—ñ–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –≤ `user_db.py`

#### –ù–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è `add_or_update_client()`:
```python
def add_or_update_client(client_id, first_name, last_name, phone):
    # –ö–†–û–ö 1: –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞ –∑ —Ç–∞–∫–∏–º ID
    # –ö–†–û–ö 2: –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞ –∑ —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º  
    # –ö–†–û–ö 3: –†–æ–∑—É–º–Ω–æ –≤–∏—Ä—ñ—à—É—î–º–æ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∏
```

#### –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±—Ä–æ–±–∫–∏ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤:
- **ID —ñ—Å–Ω—É—î, —Ç–µ–ª–µ—Ñ–æ–Ω —Ç–æ–π –∂–µ** ‚Üí –ü—Ä–æ—Å—Ç–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- **ID —ñ—Å–Ω—É—î, —Ç–µ–ª–µ—Ñ–æ–Ω —ñ–Ω—à–∏–π** ‚Üí –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ–ª–µ—Ñ–æ–Ω—É  
- **–¢–µ–ª–µ—Ñ–æ–Ω —ñ—Å–Ω—É—î, ID —ñ–Ω—à–∏–π** ‚Üí –ü–µ—Ä–µ–¥–∞—á–∞ –Ω–æ–º–µ—Ä—É –Ω–æ–≤–æ–º—É –∫–ª—ñ—î–Ω—Ç—É
- **–ù–æ–≤–∏–π ID —ñ —Ç–µ–ª–µ—Ñ–æ–Ω** ‚Üí –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É

### 2. –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è

#### `force_full_sync()` - –ü–æ–≤–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è:
- –°—Ç–≤–æ—Ä—é—î —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é –ø–æ—Ç–æ—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- –û—á–∏—â—É—î —Ç–∞–±–ª–∏—Ü—é `clients`
- –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Å–≤—ñ–∂—ñ –¥–∞–Ω—ñ –∑ WLaunch
- –ü—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ –≤—ñ–¥–Ω–æ–≤–ª—é—î –∑ —Ä–µ–∑–µ—Ä–≤—É

#### `cleanup_duplicate_phones()` - –û—á–∏—â–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤:
- –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –≤—Å—ñ –¥—É–±–ª—ñ–∫–∞—Ç–∏ –Ω–æ–º–µ—Ä—ñ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤
- –ó–∞–ª–∏—à–∞—î –Ω–∞–π—Å—Ç–∞—Ä—à–∏–π –∑–∞–ø–∏—Å (–∑ –Ω–∞–π–º–µ–Ω—à–∏–º `rowid`)
- –í–∏–¥–∞–ª—è—î —ñ–Ω—à—ñ –¥—É–±–ª—ñ–∫–∞—Ç–∏
- –ü–æ–≤–µ—Ä—Ç–∞—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–¥–∞–ª–µ–Ω–∏—Ö –∑–∞–ø–∏—Å—ñ–≤

#### `sync_specific_client()` - –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –æ–∫—Ä–µ–º–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞:
- –®—É–∫–∞—î –∫–ª—ñ—î–Ω—Ç–∞ –≤ WLaunch –∑–∞ –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω—É
- –û–Ω–æ–≤–ª—é—î –ª–æ–∫–∞–ª—å–Ω—É –±–∞–∑—É –¥–∞–Ω–∏—Ö
- –ü–æ–≤–µ—Ä—Ç–∞—î —Å—Ç–∞—Ç—É—Å –æ–ø–µ—Ä–∞—Ü—ñ—ó

### 3. –ù–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–∞–Ω–¥

#### –§–∞–π–ª `sync_management.py`:
- `/sync_status` - –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
- `/sync_clean` - –æ—á–∏—â–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤
- `/sync_full` - –ø–æ–≤–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è (–∑ —Ä–µ–∑–µ—Ä–≤–Ω–∏–º –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è–º)
- `/sync_test` - —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ API
- `/sync_user <ID>` - —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `/sync_help` - –¥–æ–≤—ñ–¥–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞—Ö —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó

### 4. –û–Ω–æ–≤–ª–µ–Ω–∏–π –±–æ—Ç –∑ –Ω–æ–≤–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏

#### –ó–º—ñ–Ω–∏ –≤ `bot.py`:
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤—Å—ñ—Ö –Ω–æ–≤–∏—Ö –∫–æ–º–∞–Ω–¥ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å–ø–∏—Å–∫—É –∞–¥–º—ñ–Ω—ñ–≤ (`ADMIN_USER_IDS`) 
- –ü–æ–∫—Ä–∞—â–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏
- –î–µ—Ç–∞–ª—å–Ω—ñ—à–∞ –¥–æ–≤—ñ–¥–∫–∞ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤

### 5. –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

#### –§–∞–π–ª `test_improved_sync.py`:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏ –≤—Å—ñ—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
- –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Å—Ç–∞—Ä–æ—ó —Ç–∞ –Ω–æ–≤–æ—ó –ª–æ–≥—ñ–∫–∏
- –í–∏—è–≤–ª–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ —ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ó—Ö —É—Å—É–Ω–µ–Ω–Ω—è
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –ø–µ—Ä–µ–¥–∞—á—ñ –Ω–æ–º–µ—Ä—ñ–≤

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

| –°—Ü–µ–Ω–∞—Ä—ñ–π | –°—Ç–∞—Ä–∞ –ª–æ–≥—ñ–∫–∞ | –ù–æ–≤–∞ –ª–æ–≥—ñ–∫–∞ |
|----------|-------------|-------------|
| –î—É–±–ª—ñ–∫–∞—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤ | ‚ùå 2 –∑–∞–ø–∏—Å–∏ –∑ –æ–¥–Ω–∏–º –Ω–æ–º–µ—Ä–æ–º | ‚úÖ 1 –∑–∞–ø–∏—Å, –¥—É–±–ª—ñ–∫–∞—Ç –≤–∏–¥–∞–ª–µ–Ω–æ |
| –ó–º—ñ–Ω–∞ –Ω–æ–º–µ—Ä—É –∫–ª—ñ—î–Ω—Ç–∞ | ‚ùå –°—Ç–∞—Ä–∏–π –Ω–æ–º–µ—Ä –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ |
| –ü–µ—Ä–µ–¥–∞—á–∞ –Ω–æ–º–µ—Ä—É | ‚ùå –°—Ç–≤–æ—Ä—é—î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç | ‚úÖ –ö–æ—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è |
| –ù–æ–≤—ñ –∫–ª—ñ—î–Ω—Ç–∏ | ‚úÖ –î–æ–¥–∞—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ | ‚úÖ –î–æ–¥–∞—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ |

## üöÄ –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏

### 1. –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó –ø—Ä–∏ –ø–æ–≤–Ω—ñ–π —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
- –í—ñ–¥–∫–∞—Ç –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö
- –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

### 2. –ó—Ä—É—á–Ω—ñ—Å—Ç—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è  
- –ó—Ä—É—á–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –æ–∫—Ä–µ–º–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤

### 3. –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å
- –ï—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–ª—ñ—î–Ω—Ç—ñ–≤
- –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞–ø–∏—Ç–∏ –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–Ω–æ–∂–∏–Ω–Ω–∏—Ö –∞–¥–º—ñ–Ω—ñ–≤

### 4. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö API –ø—ñ–¥–∫–ª—é—á–µ–Ω—å
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
zadarma/
‚îú‚îÄ‚îÄ user_db.py              ‚Üê –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –ª–æ–≥—ñ–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ bot.py                  ‚Üê –û–Ω–æ–≤–ª–µ–Ω–∏–π –∑ –Ω–æ–≤–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
‚îú‚îÄ‚îÄ sync_management.py      ‚Üê –ù–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è  
‚îú‚îÄ‚îÄ test_improved_sync.py   ‚Üê –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ wlaunch_api.py          ‚Üê –Ü—Å–Ω—É—é—á–∏–π —Ñ–∞–π–ª (–±–µ–∑ –∑–º—ñ–Ω)
‚îú‚îÄ‚îÄ config.py               ‚Üê –Ü—Å–Ω—É—é—á–∏–π —Ñ–∞–π–ª (–±–µ–∑ –∑–º—ñ–Ω)
‚îÇ
‚îú‚îÄ‚îÄ deploy_sync_improvements.sh  ‚Üê –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—é
‚îú‚îÄ‚îÄ TESTING_PLAN.md         ‚Üê –ü–ª–∞–Ω —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
‚îî‚îÄ‚îÄ SYNC_IMPROVEMENTS.md    ‚Üê –¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç
```

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **–¢–∞–±–ª–∏—Ü—è `clients`**: `id (TEXT PRIMARY KEY)`, `first_name`, `last_name`, `phone (TEXT UNIQUE)`
- **–ö–ª—é—á–æ–≤—ñ –ø–æ–ª—è**: —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –ø–æ `id` —ñ `phone`
- **–Ü–Ω–¥–µ–∫—Å–∞—Ü—ñ—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ PRIMARY KEY —Ç–∞ UNIQUE –ø–æ–ª—è–º

### API —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- **WLaunch API**: `https://api.wlaunch.net/v1`
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏**: `Authorization: Bearer <API_KEY>`
- **–ï–Ω–¥–ø–æ—ñ–Ω—Ç**: `/company/{COMPANY_ID}/branch/`
- **–î–∞–Ω—ñ**: `notification_settings.telegram[]`

### –õ–æ–≥—É–≤–∞–Ω–Ω—è
```python
logger.info(f"üë§ –î–æ–¥–∞–≤–∞–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞: {client_id}")
logger.info(f"üîÑ –ö–ª—ñ—î–Ω—Ç {client_id} –∑–º—ñ–Ω–∏–≤ –Ω–æ–º–µ—Ä: {old} ‚Üí {new}")
logger.info(f"üÜî –¢–µ–ª–µ—Ñ–æ–Ω {phone} –ø–µ—Ä–µ–π—à–æ–≤ –≤—ñ–¥ {old_id} –¥–æ {new_id}")
```

## üèÉ‚Äç‚ôÇÔ∏è –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –¥–µ–ø–ª–æ—é

### 1. –õ–æ–∫–∞–ª—å–Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
# –ó—Ä–æ–±–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º
chmod +x deploy_sync_improvements.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–µ–ø–ª–æ–π
./deploy_sync_improvements.sh
```

### 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ
```bash
cd /home/gomoncli/zadarma

# –ó—É–ø–∏–Ω–∏—Ç–∏ –±–æ—Ç–∞
pkill -f "python3 bot.py"

# –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ä–µ–∑–µ—Ä–≤
cp users.db users.db.backup.$(date +%Y%m%d_%H%M%S)

# –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–¥
git pull origin main

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞
python3 bot.py &
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏
```bash
# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–æ–º–∞–Ω–¥
# –£ Telegram –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏:
/sync_test    # –¢–µ—Å—Ç API –ø—ñ–¥–∫–ª—é—á–µ–Ω—å
/sync_status  # –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å  
/sync_clean   # –û—á–∏—Å—Ç–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
```

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º:
1. **–°—Ç–≤–æ—Ä–∏—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é –ë–î**: `cp users.db users.db.backup`
2. **–ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è –≤ —Ä–æ–±–æ—Ç—ñ API**: `/sync_test`
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞**: `ADMIN_USER_IDS` –≤ `config.py`

### –ü—ñ–¥ —á–∞—Å –¥–µ–ø–ª–æ—é:
1. **–ó—É–ø–∏–Ω–∏—Ç–∏ –±–æ—Ç–∞** –ø–µ—Ä–µ–¥ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º —Ñ–∞–π–ª—ñ–≤
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏** –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É
3. **–ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó** –ø–µ—Ä–µ–¥ —à–∏—Ä–æ–∫–∏–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º

### –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é:
1. **–ó–∞–ø—É—Å—Ç–∏—Ç–∏ `/sync_status`** –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—Ç–∞–Ω—É
2. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ –ª–æ–≥–∏** –ø–µ—Ä—à—ñ –≥–æ–¥–∏–Ω–∏ —Ä–æ–±–æ—Ç–∏  
3. **–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö** - –Ω–µ–≥–∞–π–Ω–∏–π –≤—ñ–¥–∫–∞—Ç –¥–æ —Ä–µ–∑–µ—Ä–≤—É

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø—ñ—Ö—É

### –ö–æ—Ä–æ—Ç–∫–æ—Å—Ç—Ä–æ–∫–æ–≤–æ (–ø–µ—Ä—à—ñ –¥–Ω—ñ):
- [ ] –í—Å—ñ –Ω–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏ –ø—Ä–∞—Ü—é—é—Ç—å –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- [ ] –î—É–±–ª—ñ–∫–∞—Ç–∏ –≤ –ë–î –≤–∏–¥–∞–ª–µ–Ω—ñ
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ
- [ ] –õ–æ–≥–∏ –Ω–µ –º—ñ—Å—Ç—è—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫

### –°–µ—Ä–µ–¥–Ω—å–æ—Å—Ç—Ä–æ–∫–æ–≤–æ (—Ç–∏–∂–Ω—ñ):
- [ ] –ù–æ–≤—ñ –∫–ª—ñ—î–Ω—Ç–∏ –¥–æ–¥–∞—é—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ
- [ ] –ó–º—ñ–Ω–∏ –Ω–æ–º–µ—Ä—ñ–≤ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –Ω–µ –∑–Ω–∏–∑–∏–ª–∞—Å—å
- [ ] –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –Ω–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏

### –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–æ (–º—ñ—Å—è—Ü—ñ):
- [ ] –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤
- [ ] –°—Ç–∞–±—ñ–ª—å–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ WLaunch
- [ ] –ó–º–µ–Ω—à–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ä—É—á–Ω–æ–≥–æ –≤—Ç—Ä—É—á–∞–Ω–Ω—è
- [ ] –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö –≤ —Å–∏—Å—Ç–µ–º—ñ

## ü§ù –ö–æ–º–∞–Ω–¥–∞ —Ç–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∏

### –†–æ–∑—Ä–æ–±–Ω–∏–∫:
- **–Ü–º'—è**: AI Assistant Claude
- **–†–æ–ª—å**: –ê–Ω–∞–ª—ñ–∑ —Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó

### –ü—ñ–¥—Ç—Ä–∏–º–∫–∞:
- **–¢–µ–ª–µ—Ñ–æ–Ω**: +380733103110
- **Telegram**: @admin
- **Email**: support@drgomon.com

### –í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π –∑–∞ –¥–µ–ø–ª–æ–π:
- **–û—Å–æ–±–∞**: –°–∏—Å—Ç–µ–º–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä
- **–°–µ—Ä–≤–µ—Ä**: `/home/gomoncli/zadarma/`
- **–î–æ—Å—Ç—É–ø**: SSH + GitHub

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–∫—Ä–∞—â–µ–Ω—å —Å–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∫–ª—ñ—î–Ω—Ç—ñ–≤ —Å—Ç–∞–ª–∞:
- **–ù–∞–¥—ñ–π–Ω—ñ—à–æ—é** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤
- **–ó—Ä—É—á–Ω—ñ—à–æ—é** - –±–∞–≥–∞—Ç–æ –∫–æ–º–∞–Ω–¥ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è  
- **–°—Ç–∞–±—ñ–ª—å–Ω—ñ—à–æ—é** - —Ä–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–∫–∞—Ç
- **–ü—Ä–æ–∑–æ—Ä—ñ—à–æ—é** - –¥–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏ —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–ì–æ–ª–æ–≤–Ω–µ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è**: –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤—Ç—Ä—É—á–∞–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ: $(date '+%Y-%m-%d %H:%M:%S')*
*–í–µ—Ä—Å—ñ—è –ø–æ–∫—Ä–∞—â–µ–Ω—å: 2.0*
*–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤–æ –¥–æ –¥–µ–ø–ª–æ—é ‚úÖ*
